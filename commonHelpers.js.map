{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n// import SimpleLightbox from \"simplelightbox\";\n// import \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst refs = {\n    formElem: document.querySelector('.form'),\n    inptElem: document.querySelector('.text-form'),\n    imagesElem: document.querySelector('.gallery'),\n};\n\nconst images = [];\n\nrefs.formElem.addEventListener('submit', ev => {\n    ev.preventDefault();\n    const query = ev.target.elements.query.value.trim();\n\n    if (query === '') {\n        iziToast.error({\n            title: 'Sorry',\n            message: 'Please enter text to search for.',\n            position: 'topRight',\n        });\n        return;\n    }\n    searchGallery(query)\n        .then(data => {\n            if (data.length === 0) {\n                iziToast.warning({\n                    title: 'Sorry',\n                    message:\n                        'There are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                });\n            } else {\n                renderGallery(data);\n                console.log(data);\n            }\n        })\n        .catch(error => {\n            iziToast.error({\n                title: 'Error',\n                message:\n                    'An error occurred while fetching images. Please try again later.',\n                position: 'topRight',\n            });\n            console.log(error);\n        });\n    ev.target.reset();\n});\n\n\nfunction searchGallery(userVelue) {\n    const apiKey = '42280765-41e7252ac679e023dc9db9847';\n    const query = userVelue;\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const PARAMS = `?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n    const url = BASE_URL + END_POINT + PARAMS;\n\n    return fetch(url)\n        .then(res => {\n            if (res.ok) {\n                return res.json();\n            } else {\n                throw new Error(res.status);\n            }\n        })\n        .catch(error => {\n            console.error(\n                'There has been a problem with your fetch operation:',\n                error\n            );\n        });\n}\n\n\nfunction galleryTemplate(image) {\n    return `<div class=\"img-card\">\n    <li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n    <img\n        class=\"gallery-image\"\n        src=\"${image.webformatURL}\"\n        alt=\"${image.tags}\"\n        width=360\n    />\n    </a>\n    </div>\n    <div class=\"img-body\">\n    <h3 class=\"subtitle\">'${image.likes}'<h3 class=\"subtitle\">\n    <h3 class=\"subtitle\">'${image.views}'<h3 class=\"subtitle\">\n    <h3 class=\"subtitle\">'${image.comments}'<h3 class=\"subtitle\">\n    <h3 class=\"subtitle\">'${image.downloads}'<h3 class=\"subtitle\">\n    </div>\n    </a>\n    </li>`;\n}\n\nfunction renderGallery(images) {\n    const markupGallery = galleryTemplate(images);\n    refs.imagesElem.innerHTML = markupGallery;\n}\n\n"],"names":["refs","ev","query","iziToast","searchGallery","data","renderGallery","error","userVelue","apiKey","BASE_URL","END_POINT","PARAMS","url","res","galleryTemplate","image","images","markupGallery"],"mappings":"svBAMA,MAAMA,EAAO,CACT,SAAU,SAAS,cAAc,OAAO,EACxC,SAAU,SAAS,cAAc,YAAY,EAC7C,WAAY,SAAS,cAAc,UAAU,CACjD,EAIAA,EAAK,SAAS,iBAAiB,SAAUC,GAAM,CAC3CA,EAAG,eAAc,EACjB,MAAMC,EAAQD,EAAG,OAAO,SAAS,MAAM,MAAM,OAE7C,GAAIC,IAAU,GAAI,CACdC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,mCACT,SAAU,UACtB,CAAS,EACD,MACH,CACDC,EAAcF,CAAK,EACd,KAAKG,GAAQ,CACNA,EAAK,SAAW,EAChBF,EAAS,QAAQ,CACb,MAAO,QACP,QACI,oEACJ,SAAU,UAC9B,CAAiB,GAEDG,EAAcD,CAAI,EAClB,QAAQ,IAAIA,CAAI,EAEhC,CAAS,EACA,MAAME,GAAS,CACZJ,EAAS,MAAM,CACX,MAAO,QACP,QACI,mEACJ,SAAU,UAC1B,CAAa,EACD,QAAQ,IAAII,CAAK,CAC7B,CAAS,EACLN,EAAG,OAAO,OACd,CAAC,EAGD,SAASG,EAAcI,EAAW,CAC9B,MAAMC,EAAS,qCACTP,EAAQM,EACRE,EAAW,sBACXC,EAAY,QACZC,EAAS,QAAQH,CAAM,MAAMP,CAAK,2DAClCW,EAAMH,EAAWC,EAAYC,EAEnC,OAAO,MAAMC,CAAG,EACX,KAAKC,GAAO,CACT,GAAIA,EAAI,GACJ,OAAOA,EAAI,OAEX,MAAM,IAAI,MAAMA,EAAI,MAAM,CAE1C,CAAS,EACA,MAAMP,GAAS,CACZ,QAAQ,MACJ,sDACAA,CAChB,CACA,CAAS,CACT,CAGA,SAASQ,EAAgBC,EAAO,CAC5B,MAAO;AAAA;AAAA,oCAEyBA,EAAM,aAAa;AAAA;AAAA;AAAA,eAGxCA,EAAM,YAAY;AAAA,eAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAMGA,EAAM,KAAK;AAAA,4BACXA,EAAM,KAAK;AAAA,4BACXA,EAAM,QAAQ;AAAA,4BACdA,EAAM,SAAS;AAAA;AAAA;AAAA,UAI3C,CAEA,SAASV,EAAcW,EAAQ,CAC3B,MAAMC,EAAgBH,EAAgBE,CAAM,EAC5CjB,EAAK,WAAW,UAAYkB,CAChC"}