{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/refs.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function searchGallery(userVelue) {\n    const apiKey = '42280765-41e7252ac679e023dc9db9847';\n    const query = userVelue;\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const PARAMS = `?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n    const url = BASE_URL + END_POINT + PARAMS;\n\n    return fetch(url)\n        .then(res => {\n            if (res.ok) {\n                return res.json();\n            } else {\n                throw new Error(res.status);\n            }\n        })\n        .then(data => {\n            const photosArray = data.hits.map(photo => ({\n                id: photo.id,\n                imageUrl: photo.largeImageURL,\n                webformatURL: photo.webformatURL,\n                tags: photo.alt,\n                likes: photo.likes,\n                views: photo.views,\n                comments: photo.comments,\n                downloads: photo.downloads,\n            }));\n            return photosArray;\n        })\n        .catch(error => {\n            console.error(\n                'There has been a problem with your fetch operation:',\n                error\n            );\n        });\n}","export const refs = {\n  formElem: document.querySelector('.form'),\n  inptElem: document.querySelector('.text-form'),\n  imagesElem: document.querySelector('.gallery-cards'),\n};","import { refs } from \"./refs\";\n\nexport function renderGallery(data) {\n    const markupGallery = data.map((image) => {\n        console.log(data);\n        return `<li class=\"gallery-item\">\n    <div class=\"img-card\">\n    <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n    <img\n        class=\"gallery-image\"\n        src=\"${image.webformatURL}\"\n        alt=\"${image.tags}\"\n        width=360\n    />\n    </a>\n    <p class=\"item-text\">Likes: ${image.likes}</p>\n    <p class=\"item-text\">Views: ${image.views}</p>\n    <p class=\"item-text\">Comments: ${image.comments}</p>\n    <p class=\"item-text\">Downloads: ${image.downloads}</p>\n    </div>\n    </a>\n    </li>\n    </div>`;\n    }).join('');\n\n    refs.imagesElem.innerHTML = markupGallery;\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n// import SimpleLightbox from \"simplelightbox\";\n// import \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { searchGallery } from './js/pixabay-api';\nimport { renderGallery } from './js/render-functions';\nimport { refs } from './js/refs';\n\n\nrefs.formElem.addEventListener('submit', ev => {\n    ev.preventDefault();\n    const query = ev.target.elements.query.value.trim();\n\n    if (query === '') {\n        iziToast.error({\n            title: 'Sorry',\n            message: 'Please enter text to search for.',\n            position: 'topRight',\n        });\n        return;\n    }\n    searchGallery(query)\n        .then(data => {\n            if (data.length === 0) {\n                iziToast.warning({\n                    title: 'Sorry',\n                    message:\n                        'There are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                });\n            } else {\n                renderGallery(data);\n                console.log(data);\n            }\n        })\n        .catch(error => {\n            iziToast.error({\n                title: 'Error',\n                message:\n                    'An error occurred while fetching images. Please try again later.',\n                position: 'topRight',\n            });\n            console.log(error);\n        });\n    ev.target.reset();\n});\n\n\n\n\n\n\n\n\n\n"],"names":["searchGallery","userVelue","apiKey","query","BASE_URL","END_POINT","PARAMS","url","res","data","photo","error","refs","renderGallery","markupGallery","image","ev","iziToast"],"mappings":"svBAAO,SAASA,EAAcC,EAAW,CACrC,MAAMC,EAAS,qCACTC,EAAQF,EACRG,EAAW,sBACXC,EAAY,QACZC,EAAS,QAAQJ,CAAM,MAAMC,CAAK,2DAClCI,EAAMH,EAAWC,EAAYC,EAEnC,OAAO,MAAMC,CAAG,EACX,KAAKC,GAAO,CACT,GAAIA,EAAI,GACJ,OAAOA,EAAI,OAEX,MAAM,IAAI,MAAMA,EAAI,MAAM,CAE1C,CAAS,EACA,KAAKC,GACkBA,EAAK,KAAK,IAAIC,IAAU,CACxC,GAAIA,EAAM,GACV,SAAUA,EAAM,cAChB,aAAcA,EAAM,aACpB,KAAMA,EAAM,IACZ,MAAOA,EAAM,MACb,MAAOA,EAAM,MACb,SAAUA,EAAM,SAChB,UAAWA,EAAM,SACpB,EAAC,CAEL,EACA,MAAMC,GAAS,CACZ,QAAQ,MACJ,sDACAA,CAChB,CACA,CAAS,CACT,CCnCO,MAAMC,EAAO,CAClB,SAAU,SAAS,cAAc,OAAO,EACxC,SAAU,SAAS,cAAc,YAAY,EAC7C,WAAY,SAAS,cAAc,gBAAgB,CACrD,ECFO,SAASC,EAAcJ,EAAM,CAChC,MAAMK,EAAgBL,EAAK,IAAKM,IAC5B,QAAQ,IAAIN,CAAI,EACT;AAAA;AAAA,oCAEqBM,EAAM,aAAa;AAAA;AAAA;AAAA,eAGxCA,EAAM,YAAY;AAAA,eAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,kCAISA,EAAM,KAAK;AAAA,kCACXA,EAAM,KAAK;AAAA,qCACRA,EAAM,QAAQ;AAAA,sCACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,YAKhD,EAAE,KAAK,EAAE,EAEVH,EAAK,WAAW,UAAYE,CAChC,CChBAF,EAAK,SAAS,iBAAiB,SAAUI,GAAM,CAC3CA,EAAG,eAAc,EACjB,MAAMb,EAAQa,EAAG,OAAO,SAAS,MAAM,MAAM,OAE7C,GAAIb,IAAU,GAAI,CACdc,EAAS,MAAM,CACX,MAAO,QACP,QAAS,mCACT,SAAU,UACtB,CAAS,EACD,MACH,CACDjB,EAAcG,CAAK,EACd,KAAKM,GAAQ,CACNA,EAAK,SAAW,EAChBQ,EAAS,QAAQ,CACb,MAAO,QACP,QACI,oEACJ,SAAU,UAC9B,CAAiB,GAEDJ,EAAcJ,CAAI,EAClB,QAAQ,IAAIA,CAAI,EAEhC,CAAS,EACA,MAAME,GAAS,CACZM,EAAS,MAAM,CACX,MAAO,QACP,QACI,mEACJ,SAAU,UAC1B,CAAa,EACD,QAAQ,IAAIN,CAAK,CAC7B,CAAS,EACLK,EAAG,OAAO,OACd,CAAC"}